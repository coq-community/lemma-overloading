<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">LemmaOverloading.terms</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(C)&nbsp;2012&nbsp;&nbsp;G.&nbsp;Gonthier,&nbsp;B.&nbsp;Ziliani,&nbsp;A.&nbsp;Nanevski,&nbsp;D.&nbsp;Dreyer<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;program&nbsp;is&nbsp;free&nbsp;software:&nbsp;you&nbsp;can&nbsp;redistribute&nbsp;it&nbsp;and/or&nbsp;modify<br/>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;as&nbsp;published&nbsp;by<br/>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;Free&nbsp;Software&nbsp;Foundation,&nbsp;either&nbsp;version&nbsp;3&nbsp;of&nbsp;the&nbsp;License,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(at&nbsp;your&nbsp;option)&nbsp;any&nbsp;later&nbsp;version.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;program&nbsp;is&nbsp;distributed&nbsp;in&nbsp;the&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;useful,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;WITHOUT&nbsp;ANY&nbsp;WARRANTY;&nbsp;without&nbsp;even&nbsp;the&nbsp;implied&nbsp;warranty&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;MERCHANTABILITY&nbsp;or&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.&nbsp;&nbsp;See&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;for&nbsp;more&nbsp;details.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License<br/>
&nbsp;&nbsp;&nbsp;&nbsp;along&nbsp;with&nbsp;this&nbsp;program.&nbsp;&nbsp;If&nbsp;not,&nbsp;see&nbsp;&lt;http://www.gnu.org/licenses/&gt;.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrbool</span> <span class="id" title="library">ssrnat</span> <span class="id" title="library">ssrfun</span> <span class="id" title="library">eqtype</span> <span class="id" title="library">seq</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">LemmaOverloading</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="LemmaOverloading.prelude.html#"><span class="id" title="library">prelude</span></a> <a class="idref" href="LemmaOverloading.prefix.html#"><span class="id" title="library">prefix</span></a> <a class="idref" href="LemmaOverloading.perms.html#"><span class="id" title="library">perms</span></a> <a class="idref" href="LemmaOverloading.heaps.html#"><span class="id" title="library">heaps</span></a>.<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="comment">(**************************************************************************)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Syntactic&nbsp;cancelation&nbsp;of&nbsp;heaps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(**************************************************************************)</span><br/>

<br/>
<span class="comment">(*&nbsp;Differences&nbsp;w.r.t.&nbsp;the&nbsp;paper:<br/>
<br/>
In&nbsp;the&nbsp;paper&nbsp;we&nbsp;described&nbsp;the&nbsp;cancellation&nbsp;algorithm&nbsp;as&nbsp;producing&nbsp;a<br/>
proposition.&nbsp;Instead,&nbsp;it&nbsp;will&nbsp;produce&nbsp;a&nbsp;sequence&nbsp;of&nbsp;"facts"&nbsp;which&nbsp;are<br/>
later&nbsp;on&nbsp;evaluated&nbsp;into&nbsp;a&nbsp;proposition.&nbsp;We&nbsp;did&nbsp;this&nbsp;in&nbsp;order&nbsp;to&nbsp;further<br/>
simplify&nbsp;the&nbsp;proposition.&nbsp;Each&nbsp;fact&nbsp;is&nbsp;of&nbsp;the&nbsp;form&nbsp;t1&nbsp;=&nbsp;t2,&nbsp;where&nbsp;t1<br/>
and&nbsp;t2&nbsp;are&nbsp;heaps,&nbsp;pointers,&nbsp;or&nbsp;values.<br/>
<br/>
Another&nbsp;simplification&nbsp;we&nbsp;made&nbsp;in&nbsp;the&nbsp;paper&nbsp;is&nbsp;that&nbsp;the&nbsp;values&nbsp;contained<br/>
in&nbsp;a&nbsp;heap&nbsp;are&nbsp;actually&nbsp;instances&nbsp;of&nbsp;a&nbsp;generic&nbsp;type&nbsp;'dynamic'.&nbsp;This&nbsp;type<br/>
is&nbsp;defined&nbsp;in&nbsp;the&nbsp;file&nbsp;heaps.v,&nbsp;and&nbsp;is&nbsp;just&nbsp;a&nbsp;structure&nbsp;containing&nbsp;a<br/>
value&nbsp;and&nbsp;its&nbsp;type.&nbsp;So,&nbsp;instead&nbsp;of&nbsp;equating&nbsp;values,&nbsp;we&nbsp;are&nbsp;equating&nbsp;dynamics,<br/>
therefore&nbsp;we&nbsp;need&nbsp;some&nbsp;extra&nbsp;step&nbsp;to&nbsp;prove&nbsp;the&nbsp;values&nbsp;are&nbsp;equal<br/>
(see&nbsp;the&nbsp;examples&nbsp;at&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;file).&nbsp;This&nbsp;can&nbsp;be&nbsp;avoided<br/>
with&nbsp;extra&nbsp;canonical&nbsp;structures&nbsp;machinery.<br/>
*)</span><br/>

<br/>
<span class="comment">(***************************)</span><br/>
<span class="comment">(*&nbsp;interpretation&nbsp;contexts&nbsp;*)</span><br/>
<span class="comment">(***************************)</span><br/>

<br/>
<span class="id" title="keyword">Structure</span> <a name="ctx"><span class="id" title="record">ctx</span></a> := <a name="Context"><span class="id" title="constructor">Context</span></a> {<a name="heap_ctx"><span class="id" title="projection">heap_ctx</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="LemmaOverloading.heaps.html#heap"><span class="id" title="inductive">heap</span></a>; <a name="ptr_ctx"><span class="id" title="projection">ptr_ctx</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="LemmaOverloading.heaps.html#ptr"><span class="id" title="inductive">ptr</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="empc"><span class="id" title="definition">empc</span></a> := <a class="idref" href="LemmaOverloading.terms.html#Context"><span class="id" title="constructor">Context</span></a> <span class="id" title="notation">[::]</span> <span class="id" title="notation">[::]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="subctx"><span class="id" title="definition">subctx</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.prefix.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="LemmaOverloading.terms.html#heap_ctx"><span class="id" title="projection">heap_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#heap_ctx"><span class="id" title="projection">heap_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="LemmaOverloading.prefix.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="LemmaOverloading.terms.html#ptr_ctx"><span class="id" title="projection">ptr_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#ptr_ctx"><span class="id" title="projection">ptr_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subctx_refl"><span class="id" title="lemma">subctx_refl</span></a> <span class="id" title="var">i</span>: <a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subctx_trans"><span class="id" title="lemma">subctx_trans</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#k"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt;[<span class="id" title="var">H1</span> <span class="id" title="var">P1</span>][<span class="id" title="var">H2</span> <span class="id" title="var">P2</span>].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">move</span>: <span class="id" title="var">H2</span>|<span class="id" title="tactic">move</span>: <span class="id" title="var">P2</span>]; <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.prefix.html#prefix_trans"><span class="id" title="lemma">prefix_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(**************************************************************************)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Syntactic&nbsp;heaps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Pointers&nbsp;and&nbsp;heap&nbsp;variables&nbsp;are&nbsp;syntactified&nbsp;as&nbsp;indices&nbsp;in&nbsp;the&nbsp;context&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Disjoint&nbsp;union&nbsp;is&nbsp;syntactified&nbsp;as&nbsp;concatenation&nbsp;of&nbsp;lists&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(**************************************************************************)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="elem"><span class="id" title="inductive">elem</span></a> := <a name="Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> &amp; <a class="idref" href="LemmaOverloading.prelude.html#dynamic"><span class="id" title="abbreviation">dynamic</span></a> | <a name="Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="synheap"><span class="id" title="definition">synheap</span></a> := <span class="id" title="abbreviation">seq</span> <a class="idref" href="LemmaOverloading.terms.html#elem"><span class="id" title="inductive">elem</span></a>.<br/>

<br/>
<span class="comment">(*****************************************************************************)</span><br/>
<span class="comment">(*&nbsp;Validity&nbsp;of&nbsp;indices:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;valid&nbsp;i&nbsp;t&nbsp;&nbsp;iif&nbsp;all&nbsp;the&nbsp;indices&nbsp;in&nbsp;t&nbsp;are&nbsp;in&nbsp;bounds&nbsp;of&nbsp;the&nbsp;contexts&nbsp;lists&nbsp;*)</span><br/>
<span class="comment">(*****************************************************************************)</span><br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">sx</span> <span class="id" title="var">_</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><span class="id" title="var">sx</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">size</span> (<a class="idref" href="LemmaOverloading.terms.html#ptr_ctx"><span class="id" title="projection">ptr_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">v</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span> <span class="id" title="notation">&lt;</span> <span class="id" title="definition">size</span> (<a class="idref" href="LemmaOverloading.terms.html#heap_ctx"><span class="id" title="projection">heap_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="valid"><span class="id" title="definition">valid</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> := <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="valid_cons"><span class="id" title="lemma">valid_cons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span>|<span class="id" title="var">v</span>] /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> /=;<br/>
<span class="id" title="tactic">by</span> [<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbCA"><span class="id" title="lemma">andbCA</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="valid_ptrs_cat"><span class="id" title="lemma">valid_ptrs_cat</span></a> <span class="id" title="var">j</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>=&gt;[//|<span class="id" title="var">v</span> <span class="id" title="var">t1</span> <span class="id" title="var">IH</span> /=] <span class="id" title="var">t2</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">v</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span> | <span class="id" title="var">v</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> // <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="valid_heaps_cat"><span class="id" title="lemma">valid_heaps_cat</span></a> <span class="id" title="var">j</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_heaps"><span class="id" title="definition">valid_heaps</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>=&gt;[//|<span class="id" title="var">v</span> <span class="id" title="var">t1</span> <span class="id" title="var">IH</span> /=] <span class="id" title="var">t2</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">v</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span> | <span class="id" title="var">v</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> // <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="valid_cat"><span class="id" title="lemma">valid_cat</span></a> <span class="id" title="var">j</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_ptrs_cat"><span class="id" title="lemma">valid_ptrs_cat</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_heaps_cat"><span class="id" title="lemma">valid_heaps_cat</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a> -!(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbCA"><span class="id" title="lemma">andbCA</span></a> (<a class="idref" href="LemmaOverloading.terms.html#valid_ptrs"><span class="id" title="definition">valid_ptrs</span></a> <span class="id" title="var">j</span> <span class="id" title="var">t2</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="valid_subctx"><span class="id" title="lemma">valid_subctx</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">i</span> <span class="id" title="var">j</span>=&gt;<span class="id" title="var">hs1</span> <span class="id" title="var">xs1</span> [<span class="id" title="var">hs2</span> <span class="id" title="var">xs2</span>][/= <span class="id" title="var">P1</span> <span class="id" title="var">P2</span>].<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">cat1s</span> 2!<a class="idref" href="LemmaOverloading.terms.html#valid_cat"><span class="id" title="lemma">valid_cat</span></a>.<br/>
<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;<span class="id" title="var">H</span>; <span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>=&gt;-&gt;.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span> <span class="id" title="var">H</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span>| <span class="id" title="var">v</span>]; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> /= !<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> =&gt; <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">leq_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>;<br/>
<span class="id" title="tactic">by</span> [<span class="id" title="tactic">apply</span>: (<a class="idref" href="LemmaOverloading.prefix.html#prefix_size"><span class="id" title="lemma">prefix_size</span></a> <span class="id" title="var">P2</span>) | <span class="id" title="tactic">apply</span>: (<a class="idref" href="LemmaOverloading.prefix.html#prefix_size"><span class="id" title="lemma">prefix_size</span></a> <span class="id" title="var">P1</span>)].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*************************************)</span><br/>
<span class="comment">(*&nbsp;interpretation&nbsp;of&nbsp;syntactic&nbsp;heaps&nbsp;*)</span><br/>
<span class="comment">(*************************************)</span><br/>

<br/>
<span class="comment">(*&nbsp;lookup&nbsp;functions&nbsp;for&nbsp;heaps&nbsp;and&nbsp;pointers&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="hlook"><span class="id" title="definition">hlook</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">fun</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> (<a class="idref" href="LemmaOverloading.terms.html#heap_ctx"><span class="id" title="projection">heap_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="plook"><span class="id" title="definition">plook</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">fun</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> (<a class="idref" href="LemmaOverloading.terms.html#ptr_ctx"><span class="id" title="projection">ptr_ctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#8486b0ff5bfed6f6875afb7a9befbceb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;notation&nbsp;for&nbsp;lookups&nbsp;with&nbsp;default&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="plook'"><span class="id" title="abbreviation">plook'</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#odflt"><span class="id" title="abbreviation">odflt</span></a> <a class="idref" href="LemmaOverloading.heaps.html#null"><span class="id" title="definition">null</span></a> (<a class="idref" href="LemmaOverloading.terms.html#plook"><span class="id" title="definition">plook</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>)).<br/>

<br/>
<span class="comment">(*&nbsp;interpretation&nbsp;function&nbsp;for&nbsp;elements&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="einterp"><span class="id" title="definition">einterp</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#plook"><span class="id" title="definition">plook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="var">x'</span> <a class="idref" href="LemmaOverloading.heaps.html#3dbbab75c4a5953ee3c8ba12d6cb2e26"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="LemmaOverloading.prelude.html#Dyn.val"><span class="id" title="projection">Dyn.val</span></a> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.heaps.html#Undef"><span class="id" title="constructor">Undef</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">h</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#hlook"><span class="id" title="definition">hlook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">h</span> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">h'</span> <span class="id" title="keyword">then</span> <span class="id" title="var">h'</span> <span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.heaps.html#Undef"><span class="id" title="constructor">Undef</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;main&nbsp;interpretation&nbsp;function&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="interp"><span class="id" title="definition">interp</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">is</span> <span class="id" title="notation">[::]</span> <span class="id" title="keyword">then</span> <a class="idref" href="LemmaOverloading.terms.html#einterp"><span class="id" title="definition">einterp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span> <span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.terms.html#einterp"><span class="id" title="definition">einterp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span> <a class="idref" href="LemmaOverloading.heaps.html#a8b015a3fc99a0cc12e0ab4accaf0b2f"><span class="id" title="notation">:+</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.heaps.html#empty"><span class="id" title="definition">empty</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#einterp"><span class="id" title="definition">einterp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="LemmaOverloading.heaps.html#a8b015a3fc99a0cc12e0ab4accaf0b2f"><span class="id" title="notation">:+</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>:<span class="id" title="var">t</span>=&gt;//; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#unh0"><span class="id" title="lemma">unh0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="interp_cat"><span class="id" title="lemma">interp_cat</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="LemmaOverloading.heaps.html#a8b015a3fc99a0cc12e0ab4accaf0b2f"><span class="id" title="notation">:+</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>:<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>=&gt;[/=|<span class="id" title="var">e</span> <span class="id" title="var">t1</span> <span class="id" title="var">IH</span>] <span class="id" title="var">t2</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#un0h"><span class="id" title="lemma">un0h</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cat_cons</span> !<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="var">IH</span> <a class="idref" href="LemmaOverloading.heaps.html#unA"><span class="id" title="lemma">unA</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="interp_perm"><span class="id" title="lemma">interp_perm</span></a> <span class="id" title="var">i</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="LemmaOverloading.perms.html#perm"><span class="id" title="inductive">perm</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.perms.html#perm_ind"><span class="id" title="definition">perm_ind</span></a>=&gt;[<span class="id" title="var">s1</span> <span class="id" title="var">s2</span> -&gt;-&gt; //|<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">x</span> <span class="id" title="var">t1'</span> <span class="id" title="var">t2'</span> -&gt;-&gt;|<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t1'</span> <span class="id" title="var">t2'</span> <span class="id" title="var">t</span> -&gt;-&gt;|<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t</span>].<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>=&gt;<span class="id" title="var">_</span> -&gt;.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unCA"><span class="id" title="lemma">unCA</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">_</span> -&gt; <span class="id" title="var">_</span> -&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="interp_subctx"><span class="id" title="lemma">interp_subctx</span></a> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span>: <a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#subctx"><span class="id" title="definition">subctx</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">I</span> [<span class="id" title="var">S1</span> <span class="id" title="var">S2</span>]; <span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>].<br/>
<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <a class="idref" href="LemmaOverloading.terms.html#valid_cons"><span class="id" title="lemma">valid_cons</span></a>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;<span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>=&gt;-&gt;; <span class="id" title="tactic">case</span>: <span class="id" title="var">e</span> <span class="id" title="var">H1</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span>|<span class="id" title="var">v</span>] /=;<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="LemmaOverloading.terms.html#valid"><span class="id" title="definition">valid</span></a> /= !<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>; <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.prefix.html#prefix_onth"><span class="id" title="lemma">prefix_onth</span></a>;<br/>
<span class="id" title="tactic">by</span> [<span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S2</span>)=&gt;-&gt; | <span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S1</span>)=&gt;-&gt;].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="fact"><span class="id" title="inductive">fact</span></a> :=<br/>
&nbsp;&nbsp;<a name="eqH"><span class="id" title="constructor">eqH</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="LemmaOverloading.terms.html#synheap"><span class="id" title="definition">synheap</span></a> &amp; <a class="idref" href="LemmaOverloading.terms.html#synheap"><span class="id" title="definition">synheap</span></a> | <a name="eqD"><span class="id" title="constructor">eqD</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="LemmaOverloading.prelude.html#dynamic"><span class="id" title="abbreviation">dynamic</span></a> &amp; <a class="idref" href="LemmaOverloading.prelude.html#dynamic"><span class="id" title="abbreviation">dynamic</span></a> | <a name="eqX"><span class="id" title="constructor">eqX</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> &amp; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;returns&nbsp;the&nbsp;proposition&nbsp;generated&nbsp;by&nbsp;a&nbsp;fact&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="eval_fact"><span class="id" title="definition">eval_fact</span></a> <span class="id" title="var">i</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#eqH"><span class="id" title="constructor">eqH</span></a> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">h1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">h2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#eqD"><span class="id" title="constructor">eqD</span></a> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span> =&gt; <span class="id" title="var">d1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">d2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#eqX"><span class="id" title="constructor">eqX</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#plook"><span class="id" title="definition">plook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">x1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#plook"><span class="id" title="definition">plook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">x2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;returns&nbsp;the&nbsp;logic&nbsp;concatenation&nbsp;of&nbsp;all&nbsp;the&nbsp;facts&nbsp;in&nbsp;the&nbsp;list&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[::</span> <span class="id" title="var">f</span><span class="id" title="notation">]</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#eval_fact"><span class="id" title="definition">eval_fact</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| (<span class="id" title="var">f</span> <span class="id" title="notation">::</span> <span class="id" title="var">fs</span>) =&gt; <a class="idref" href="LemmaOverloading.terms.html#eval_fact"><span class="id" title="definition">eval_fact</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">fs</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[::]</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;functions&nbsp;to&nbsp;collect&nbsp;pointers&nbsp;and&nbsp;heap&nbsp;variables&nbsp;indices&nbsp;out&nbsp;of&nbsp;a&nbsp;synheap&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="ptrs"><span class="id" title="definition">ptrs</span></a> <span class="id" title="var">t</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">e</span> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="notation">(</span><a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <span class="id" title="var">t'</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">[::]</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="vars"><span class="id" title="definition">vars</span></a> <span class="id" title="var">t</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">e</span> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">h</span> <span class="id" title="keyword">then</span> <span class="id" title="var">h</span> <span class="id" title="notation">::</span> <span class="id" title="notation">(</span><a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <span class="id" title="var">t'</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">[::]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ptreq"><span class="id" title="definition">ptreq</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">e</span> := <span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">y</span> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="vareq"><span class="id" title="definition">vareq</span></a> (<span class="id" title="var">h</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">e</span> := <span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">k</span> <span class="id" title="keyword">then</span> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">k</span> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="pread"><span class="id" title="definition">pread</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#some"><span class="id" title="abbreviation">some</span></a> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <a class="idref" href="LemmaOverloading.terms.html#pread"><span class="id" title="definition">pread</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#pread"><span class="id" title="definition">pread</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="pread'"><span class="id" title="abbreviation">pread'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrfun.html#odflt"><span class="id" title="abbreviation">odflt</span></a> (<a class="idref" href="LemmaOverloading.prelude.html#dyn"><span class="id" title="abbreviation">dyn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#pread"><span class="id" title="definition">pread</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pfree"><span class="id" title="definition">pfree</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> := <span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#predC"><span class="id" title="definition">predC</span></a> (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="hfree"><span class="id" title="definition">hfree</span></a> <span class="id" title="var">h</span> <span class="id" title="var">t</span> := <span class="id" title="definition">filter</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#predC"><span class="id" title="definition">predC</span></a> (<a class="idref" href="LemmaOverloading.terms.html#vareq"><span class="id" title="definition">vareq</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a>)) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Main&nbsp;function&nbsp;to&nbsp;perform&nbsp;the&nbsp;cancelation&nbsp;of&nbsp;heaps.&nbsp;One&nbsp;difference&nbsp;to&nbsp;point<br/>
&nbsp;&nbsp;&nbsp;out&nbsp;from&nbsp;the&nbsp;description&nbsp;in&nbsp;the&nbsp;paper,&nbsp;appart&nbsp;from&nbsp;the&nbsp;fact&nbsp;that&nbsp;it&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;returning&nbsp;a&nbsp;list&nbsp;of&nbsp;facts,&nbsp;is&nbsp;that&nbsp;in&nbsp;the&nbsp;base&nbsp;case&nbsp;we&nbsp;consider&nbsp;the&nbsp;special<br/>
&nbsp;&nbsp;&nbsp;case&nbsp;x1&nbsp;:-&gt;&nbsp;v1&nbsp;=&nbsp;x2&nbsp;:-&gt;&nbsp;v2&nbsp;-&gt;&nbsp;x1&nbsp;=&nbsp;x2&nbsp;/\&nbsp;v1&nbsp;=&nbsp;v2&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="cancel'"><span class="id" title="definition">cancel'</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="LemmaOverloading.terms.html#ctx"><span class="id" title="record">ctx</span></a>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">r</span> : <a class="idref" href="LemmaOverloading.terms.html#synheap"><span class="id" title="definition">synheap</span></a>) (<span class="id" title="var">f</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="LemmaOverloading.terms.html#fact"><span class="id" title="inductive">fact</span></a>) : <span class="id" title="abbreviation">seq</span> <a class="idref" href="LemmaOverloading.terms.html#fact"><span class="id" title="inductive">fact</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[::]</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a>, <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[::]</span>, <span class="id" title="notation">[::]</span> =&gt; <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span><span class="id" title="notation">]</span>, <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">d'</span><span class="id" title="notation">]</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#eqX"><span class="id" title="constructor">eqX</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x'</span><span class="id" title="notation">,</span> <a class="idref" href="LemmaOverloading.terms.html#eqD"><span class="id" title="constructor">eqD</span></a> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> , <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#eqH"><span class="id" title="constructor">eqH</span></a> <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="notation">::</span> <span class="id" title="var">t1'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t1'</span> (<a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <span class="id" title="var">x</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#eqD"><span class="id" title="constructor">eqD</span></a> <span class="id" title="var">d</span> (<a class="idref" href="LemmaOverloading.terms.html#pread'"><span class="id" title="abbreviation">pread'</span></a> <span class="id" title="var">x</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <span class="id" title="notation">&amp;</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t1'</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a><span class="id" title="notation">]</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">h</span> <span class="id" title="notation">::</span> <span class="id" title="var">t1'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t1'</span> (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <span class="id" title="var">h</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t1'</span> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">h</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="LemmaOverloading.terms.html#r"><span class="id" title="variable">r</span></a><span class="id" title="notation">]</span> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="cancel"><span class="id" title="definition">cancel</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> := <a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="notation">[::]</span> <span class="id" title="notation">[::]</span>.<br/>

<br/>
<span class="comment">(*&nbsp;several&nbsp;auxiliary&nbsp;lemmas&nbsp;about&nbsp;the&nbsp;definitions&nbsp;given&nbsp;above&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eval_cons"><span class="id" title="lemma">eval_cons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> : <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval_fact"><span class="id" title="definition">eval_fact</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#s"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>:<span class="id" title="var">s</span>=&gt;//; <span class="id" title="tactic">split</span>=&gt;//; <span class="id" title="tactic">case</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eval_cat"><span class="id" title="lemma">eval_cat</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> : <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#s1"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#s2"><span class="id" title="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#s2"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">s1</span>=&gt;[/=|<span class="id" title="var">f</span> <span class="id" title="var">s1</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cat_cons</span> !<a class="idref" href="LemmaOverloading.terms.html#eval_cons"><span class="id" title="lemma">eval_cons</span></a> <span class="id" title="var">IH</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eval_rcons"><span class="id" title="lemma">eval_rcons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> : <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<span class="id" title="definition">rcons</span> <a class="idref" href="LemmaOverloading.terms.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval_fact"><span class="id" title="definition">eval_fact</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">cats1</span> <a class="idref" href="LemmaOverloading.terms.html#eval_cat"><span class="id" title="lemma">eval_cat</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfreeE"><span class="id" title="lemma">pfreeE</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">e</span> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">[::]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] //; <span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[<span class="id" title="var">y</span> <span class="id" title="var">d</span>|] //=; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hfreeE"><span class="id" title="lemma">hfreeE</span></a> <span class="id" title="var">h</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">e</span> <span class="id" title="keyword">is</span> <a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">k</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">e</span> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">[::]</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] //; <span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[| <span class="id" title="var">n</span>] //=; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ptr_has"><span class="id" title="lemma">ptr_has</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> : <span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[<span class="id" title="var">y</span> <span class="id" title="var">d</span>|//]; <span class="id" title="tactic">rewrite</span> /= <span class="id" title="definition">inE</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="var_has"><span class="id" title="lemma">var_has</span></a> <span class="id" title="var">h</span> <span class="id" title="var">t</span> : <span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#vareq"><span class="id" title="definition">vareq</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[//|<span class="id" title="var">n</span>]; <span class="id" title="tactic">rewrite</span> /= <span class="id" title="definition">inE</span> <span class="id" title="var">IH</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfreeN"><span class="id" title="lemma">pfreeN</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="LemmaOverloading.terms.html#ptr_has"><span class="id" title="lemma">ptr_has</span></a>; <span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] //=; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;-&gt;; <span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>=&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfree_subdom"><span class="id" title="lemma">pfree_subdom</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.heaps.html#subdom"><span class="id" title="definition">subdom</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= =&gt; <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">_</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="LemmaOverloading.heaps.html#un0h"><span class="id" title="lemma">un0h</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdomUE"><span class="id" title="lemma">subdomUE</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdom_emp"><span class="id" title="lemma">subdom_emp</span></a>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdomUE"><span class="id" title="lemma">subdomUE</span></a>=&gt;//.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdom_refl"><span class="id" title="lemma">subdom_refl</span></a>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pfree_def"><span class="id" title="lemma">pfree_def</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>: <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.terms.html#pfree_subdom"><span class="id" title="lemma">pfree_subdom</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#subdom_def"><span class="id" title="lemma">subdom_def</span></a>; <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;[-&gt; <span class="id" title="var">_</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hfreeN"><span class="id" title="lemma">hfreeN</span></a> <span class="id" title="var">h</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="LemmaOverloading.terms.html#var_has"><span class="id" title="lemma">var_has</span></a>; <span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] //=; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;-&gt;; <span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>=&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="vars_hfree"><span class="id" title="lemma">vars_hfree</span></a> (<span class="id" title="var">h1</span> <span class="id" title="var">h2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#vareq"><span class="id" title="definition">vareq</span></a> <a class="idref" href="LemmaOverloading.terms.html#h1"><span class="id" title="variable">h1</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h2"><span class="id" title="variable">h2</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="LemmaOverloading.terms.html#h1"><span class="id" title="variable">h1</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="LemmaOverloading.terms.html#h2"><span class="id" title="variable">h2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#vareq"><span class="id" title="definition">vareq</span></a> <a class="idref" href="LemmaOverloading.terms.html#h1"><span class="id" title="variable">h1</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbF"><span class="id" title="lemma">andbF</span></a>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[//|<span class="id" title="var">n</span> /=].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;/= <span class="id" title="var">E</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">case</span>: (<span class="id" title="var">h1</span> <span class="id" title="notation">=</span><span class="id" title="notation">P</span> <span class="id" title="var">n</span>)=&gt;// -&gt;; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="var">E</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hfree_subdom"><span class="id" title="lemma">hfree_subdom</span></a> <span class="id" title="var">i</span> <span class="id" title="var">h</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="LemmaOverloading.heaps.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="LemmaOverloading.heaps.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[<span class="id" title="var">_</span> <span class="id" title="var">x</span> //|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= =&gt; <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">_</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">x</span>; <span class="id" title="tactic">move</span>/(<span class="id" title="var">IH</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#domUn"><span class="id" title="lemma">domUn</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="var">D</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#orbC"><span class="id" title="lemma">orbC</span></a> =&gt; -&gt;.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> =&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="LemmaOverloading.heaps.html#domUn"><span class="id" title="lemma">domUn</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="var">D</span> /=.<br/>
<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;<span class="id" title="var">D2</span>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="definition">inE</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/(<span class="id" title="var">IH</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">x</span>)=&gt;-&gt;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hfree_subdom'"><span class="id" title="lemma">hfree_subdom'</span></a> <span class="id" title="var">i</span> <span class="id" title="var">h</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#subdom"><span class="id" title="definition">subdom</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>:<span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= =&gt; <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">_</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="LemmaOverloading.heaps.html#un0h"><span class="id" title="lemma">un0h</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdomUE"><span class="id" title="lemma">subdomUE</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdom_emp"><span class="id" title="lemma">subdom_emp</span></a>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdomUE"><span class="id" title="lemma">subdomUE</span></a>=&gt;//.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#subdom_refl"><span class="id" title="lemma">subdom_refl</span></a>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hfree_def"><span class="id" title="lemma">hfree_def</span></a> <span class="id" title="var">i</span> <span class="id" title="var">h</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.terms.html#hfree_subdom'"><span class="id" title="lemma">hfree_subdom'</span></a> <span class="id" title="var">h</span>); <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#subdom_def"><span class="id" title="lemma">subdom_def</span></a>; <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt;[-&gt; <span class="id" title="var">_</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="count0_hfree"><span class="id" title="lemma">count0_hfree</span></a> <span class="id" title="var">v</span> <span class="id" title="var">t</span>: <span class="id" title="definition">count</span> (<span class="id" title="definition">pred1</span> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eqn0Ngt</span> -<span class="id" title="lemma">has_count</span> <span class="id" title="lemma">has_pred1</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.terms.html#hfreeN"><span class="id" title="lemma">hfreeN</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="count1_hfree"><span class="id" title="lemma">count1_hfree</span></a> <span class="id" title="var">v</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">count</span> (<span class="id" title="definition">pred1</span> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.perms.html#perm"><span class="id" title="inductive">perm</span></a> (<a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">::</span> <a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">w</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">case</span>: <span class="id" title="var">w</span>=&gt;[<span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">H</span>|<span class="id" title="var">v'</span>] /=.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.perms.html#perm_sym"><span class="id" title="lemma">perm_sym</span></a> -(<span class="id" title="lemma">cat1s</span> (<a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.perms.html#perm_cons_cat_consL"><span class="id" title="lemma">perm_cons_cat_consL</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.perms.html#perm_sym"><span class="id" title="lemma">perm_sym</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span>; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>=&gt;[-&gt;|<span class="id" title="var">_</span>] /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}[1]<span class="id" title="lemma">addn0</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eqn_add2l</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.terms.html#count0_hfree"><span class="id" title="lemma">count0_hfree</span></a>=&gt;-&gt;.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">add0n</span>; <span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>=&gt;<span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.perms.html#perm_sym"><span class="id" title="lemma">perm_sym</span></a> -(<span class="id" title="lemma">cat1s</span> (<a class="idref" href="LemmaOverloading.terms.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.perms.html#perm_cons_cat_consL"><span class="id" title="lemma">perm_cons_cat_consL</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.perms.html#perm_sym"><span class="id" title="lemma">perm_sym</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="countN_varfree"><span class="id" title="lemma">countN_varfree</span></a> <span class="id" title="var">i</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">count</span> (<span class="id" title="definition">pred1</span> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="notation">&gt;</span> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#hlook"><span class="id" title="definition">hlook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="LemmaOverloading.heaps.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span> <span class="id" title="var">v</span>=&gt;[//|[<span class="id" title="var">x</span> <span class="id" title="var">d</span>|<span class="id" title="var">h</span>] <span class="id" title="var">s</span> <span class="id" title="var">IH</span>] <span class="id" title="var">v</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>=&gt;<span class="id" title="var">D</span>.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>=&gt;//; <span class="id" title="tactic">apply</span> <a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">case</span>: (<span class="id" title="var">h</span> <span class="id" title="notation">=</span><span class="id" title="notation">P</span> <span class="id" title="var">v</span>) <span class="id" title="var">H</span>=&gt;[&lt;-|<span class="id" title="var">_</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span>; <span class="id" title="tactic">apply</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H2</span>: (<span class="id" title="definition">count</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;[//|[|<span class="id" title="var">n</span>]] <span class="id" title="var">_</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>].<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.terms.html#count1_hfree"><span class="id" title="lemma">count1_hfree</span></a>: <span class="id" title="var">H2</span>=&gt;<span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="LemmaOverloading.terms.html#interp_perm"><span class="id" title="lemma">interp_perm</span></a> <span class="id" title="var">i</span> <span class="id" title="var">H2</span>) <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unA"><span class="id" title="lemma">unA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">move</span>: (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#defUnhh"><span class="id" title="lemma">defUnhh</span></a> /=.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;// <span class="id" title="var">a</span>; <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#empP"><span class="id" title="lemma">empP</span></a>=&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="empty_hfree"><span class="id" title="lemma">empty_hfree</span></a> <span class="id" title="var">i</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#hlook"><span class="id" title="definition">hlook</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="LemmaOverloading.heaps.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[//|[<span class="id" title="var">x</span> <span class="id" title="var">d</span>|<span class="id" title="var">v'</span>] <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> [<a class="idref" href="LemmaOverloading.terms.html#hfree"><span class="id" title="definition">hfree</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]/=.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">H2</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">eqP</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#negbFE"><span class="id" title="lemma">negbFE</span></a> <span class="id" title="var">H2</span>)) {}<span class="id" title="var">IH</span> //= <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">s</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#un0h"><span class="id" title="lemma">un0h</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(***********************************************)</span><br/>
<span class="comment">(*&nbsp;Reflection&nbsp;lemmas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;The&nbsp;following&nbsp;series&nbsp;of&nbsp;lemmas&nbsp;establish&nbsp;a&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;bridge&nbsp;between&nbsp;syntax&nbsp;and&nbsp;semantics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(***********************************************)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="domR"><span class="id" title="lemma">domR</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#plook'"><span class="id" title="abbreviation">plook'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="LemmaOverloading.heaps.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span> <span class="id" title="var">x</span>=&gt;[//|<span class="id" title="var">e1</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= =&gt; <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>=&gt;<span class="id" title="var">E</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#domUn"><span class="id" title="lemma">domUn</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="var">D</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">E</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#domUn"><span class="id" title="lemma">domUn</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e1</span> <span class="id" title="var">E</span> <span class="id" title="var">D</span>=&gt;//= <span class="id" title="var">y</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>=&gt;&lt;-; <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a>.<br/>
<span class="id" title="tactic">case</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;[<span class="id" title="var">a</span>|] //=.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#defPt"><span class="id" title="lemma">defPt</span></a> <a class="idref" href="LemmaOverloading.heaps.html#domPt"><span class="id" title="lemma">domPt</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span> =&gt; -&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookR"><span class="id" title="lemma">lookR</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#look"><span class="id" title="definition">look</span></a> (<a class="idref" href="LemmaOverloading.terms.html#plook'"><span class="id" title="abbreviation">plook'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#pread'"><span class="id" title="abbreviation">pread'</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span> <span class="id" title="var">x</span>=&gt;[//|<span class="id" title="var">e1</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>] <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /=.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">F</span>: (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e1</span>)=&gt;/= <span class="id" title="var">D</span> <span class="id" title="var">E</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#lookUnr"><span class="id" title="lemma">lookUnr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">D</span>) (<a class="idref" href="LemmaOverloading.terms.html#domR"><span class="id" title="lemma">domR</span></a> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">E</span>) (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">e1</span> <span class="id" title="var">F</span> {<span class="id" title="var">D</span>}=&gt;//= <span class="id" title="var">y</span> <span class="id" title="var">d</span> -&gt;.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e1</span> {<span class="id" title="var">E</span>} <span class="id" title="var">F</span> <span class="id" title="var">D</span>=&gt;// <span class="id" title="var">y</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>=&gt;&lt;-{<span class="id" title="var">y</span>} <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="LemmaOverloading.terms.html#einterp"><span class="id" title="definition">einterp</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">[::</span> <a class="idref" href="LemmaOverloading.terms.html#Pts"><span class="id" title="constructor">Pts</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span><span class="id" title="notation">]</span>) // <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> *.<br/>
<span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#lookUnl"><span class="id" title="lemma">lookUnl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">D</span>) (<a class="idref" href="LemmaOverloading.terms.html#domR"><span class="id" title="lemma">domR</span></a> (<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a> <span class="id" title="var">D</span>)) /= ?<span class="id" title="abbreviation">eqxx</span> //.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#defUnl"><span class="id" title="lemma">defUnl</span></a>: <span class="id" title="var">D</span>=&gt;/=; <span class="id" title="tactic">case</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)=&gt;[<span class="id" title="var">a</span>|] //.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#defPt"><span class="id" title="lemma">defPt</span></a> <a class="idref" href="LemmaOverloading.heaps.html#lookU"><span class="id" title="lemma">lookU</span></a> /= <span class="id" title="abbreviation">eqxx</span> =&gt; -&gt;.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LemmaOverloading.prelude.html#dyn_eta"><span class="id" title="lemma">dyn_eta</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="defR"><span class="id" title="lemma">defR</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> : <a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> (<a class="idref" href="LemmaOverloading.terms.html#ptrs"><span class="id" title="definition">ptrs</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /=.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span>=&gt;[<span class="id" title="var">y</span> <span class="id" title="var">d</span>|<span class="id" title="var">n</span>] /=; <span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;[<span class="id" title="var">a</span>|//]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="LemmaOverloading.heaps.html#defUn"><span class="id" title="lemma">defUn</span></a>=&gt;// <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">L</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH</span> <span class="id" title="var">D2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> -<a class="idref" href="LemmaOverloading.terms.html#ptr_has"><span class="id" title="lemma">ptr_has</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> (<span class="id" title="var">L</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.terms.html#domR"><span class="id" title="lemma">domR</span></a> <span class="id" title="var">D2</span>); <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">E</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#defPt"><span class="id" title="lemma">defPt</span></a> <a class="idref" href="LemmaOverloading.heaps.html#domPt"><span class="id" title="lemma">domPt</span></a> !<span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">D1</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="freeR"><span class="id" title="lemma">freeR</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">has</span> (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="LemmaOverloading.terms.html#plook'"><span class="id" title="abbreviation">plook'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#pfree"><span class="id" title="definition">pfree</span></a> <a class="idref" href="LemmaOverloading.terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LemmaOverloading.terms.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">t</span>=&gt;[//|<span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>=&gt;<span class="id" title="var">D</span> /=.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="LemmaOverloading.terms.html#ptreq"><span class="id" title="definition">ptreq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span>)=&gt;/=; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#freeUnl"><span class="id" title="lemma">freeUnl</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH</span> (<a class="idref" href="LemmaOverloading.heaps.html#defUnr"><span class="id" title="lemma">defUnr</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">H</span>) -{1}<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="LemmaOverloading.heaps.html#defUn"><span class="id" title="lemma">defUn</span></a> <span class="id" title="var">D</span>=&gt;// <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">L</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> (<span class="id" title="var">L</span> (<a class="idref" href="LemmaOverloading.terms.html#plook'"><span class="id" title="abbreviation">plook'</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>))); <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#negbK"><span class="id" title="lemma">negbK</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.terms.html#domR"><span class="id" title="lemma">domR</span></a>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">D</span>=&gt;//= <span class="id" title="var">y</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>=&gt;&lt;-{<span class="id" title="var">y</span>}.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">F</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)=&gt;[<span class="id" title="var">a</span>|//] <span class="id" title="var">D</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#freePtUn"><span class="id" title="lemma">freePtUn</span></a> //= <a class="idref" href="LemmaOverloading.terms.html#pfreeN"><span class="id" title="lemma">pfreeN</span></a> // -<a class="idref" href="LemmaOverloading.terms.html#ptr_has"><span class="id" title="lemma">ptr_has</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> (<a class="idref" href="LemmaOverloading.heaps.html#defPt_dom"><span class="id" title="lemma">defPt_dom</span></a> <span class="id" title="var">D</span>); <span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.terms.html#domR"><span class="id" title="lemma">domR</span></a> (<a class="idref" href="LemmaOverloading.heaps.html#defPt_def"><span class="id" title="lemma">defPt_def</span></a> <span class="id" title="var">D</span>)).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">F</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="cancel_sound'"><span class="id" title="lemma">cancel_sound'</span></a> <span class="id" title="var">i</span> <span class="id" title="var">sh1</span> <span class="id" title="var">sh2</span> <span class="id" title="var">unm</span> <span class="id" title="var">fs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#sh2"><span class="id" title="variable">sh2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#sh1"><span class="id" title="variable">sh1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="LemmaOverloading.terms.html#unm"><span class="id" title="variable">unm</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#sh2"><span class="id" title="variable">sh2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#fs"><span class="id" title="variable">fs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#sh1"><span class="id" title="variable">sh1</span></a> <a class="idref" href="LemmaOverloading.terms.html#sh2"><span class="id" title="variable">sh2</span></a> <a class="idref" href="LemmaOverloading.terms.html#unm"><span class="id" title="variable">unm</span></a> <a class="idref" href="LemmaOverloading.terms.html#fs"><span class="id" title="variable">fs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">sh1</span> <span class="id" title="var">sh2</span> <span class="id" title="var">unm</span> <span class="id" title="var">fs</span>=&gt;[|[<span class="id" title="var">sx</span> <span class="id" title="var">sd</span>|<span class="id" title="var">sv</span>] <span class="id" title="var">sh1</span> <span class="id" title="var">IH</span>] <span class="id" title="var">sh2</span> <span class="id" title="var">unm</span> <span class="id" title="var">fs</span>.<br/>
- <span class="id" title="tactic">case</span>: <span class="id" title="var">unm</span>=&gt;[|[<span class="id" title="var">sxu</span> <span class="id" title="var">sdu</span>|<span class="id" title="var">svu</span>] [|[<span class="id" title="var">sxu'</span> <span class="id" title="var">sud'</span>|<span class="id" title="var">svu'</span>] <span class="id" title="var">unm'</span>]];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">sh2</span>=&gt;[|[<span class="id" title="var">sx2</span> <span class="id" title="var">sd2</span>|<span class="id" title="var">sv2</span>] <span class="id" title="var">sh2'</span>] /=; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">fs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">A</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sx2</span>)=&gt;[<span class="id" title="var">a</span>|]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">sh2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">D</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sxu</span>)=&gt;[<span class="id" title="var">d</span>|]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">sh2'</span>=&gt;[/= <span class="id" title="var">H2</span> <span class="id" title="var">Def</span>|<span class="id" title="var">e</span> <span class="id" title="var">sh2'</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">A</span> <span class="id" title="var">D</span> =&gt;-&gt;; <span class="id" title="tactic">case</span>: <span class="id" title="var">fs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="LemmaOverloading.heaps.html#pts_injP"><span class="id" title="lemma">pts_injP</span></a> <span class="id" title="var">Def</span> <span class="id" title="var">H2</span>)=&gt;[<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span> <span class="id" title="var">D</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">split</span>=&gt;//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">sdu</span> <span class="id" title="var">sd2</span> <span class="id" title="var">H4</span> <span class="id" title="var">H2</span> <span class="id" title="var">Def</span>=&gt;<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> [<span class="id" title="var">c1</span> <span class="id" title="var">c2</span>] /= <span class="id" title="var">H4</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span> <span class="id" title="var">H3</span>=&gt; <span class="id" title="var">b2</span> <span class="id" title="var">H2</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.heaps.html#pts_inj"><span class="id" title="lemma">pts_inj</span></a> <span class="id" title="var">Def</span>): <span class="id" title="var">H2</span>=&gt;-&gt;; <span class="id" title="tactic">case</span>: <span class="id" title="var">fs</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">rewrite</span> [<a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">_</span> (<a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cat"><span class="id" title="lemma">interp_cat</span></a> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unCA"><span class="id" title="lemma">unCA</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unA"><span class="id" title="lemma">unA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="var">last</span> 2 <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.terms.html#pfree_def"><span class="id" title="lemma">pfree_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LemmaOverloading.terms.html#ptr_has"><span class="id" title="lemma">ptr_has</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> /= -(<a class="idref" href="LemmaOverloading.terms.html#lookR"><span class="id" title="lemma">lookR</span></a> <span class="id" title="var">D</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">A</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sx</span>)=&gt;[<span class="id" title="var">a</span>|//] <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#lookPtUn"><span class="id" title="lemma">lookPtUn</span></a> <span class="id" title="var">D</span>) -<a class="idref" href="LemmaOverloading.prelude.html#dyn_eta"><span class="id" title="lemma">dyn_eta</span></a>; <span class="id" title="tactic">case</span>: <span class="id" title="var">fs</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="LemmaOverloading.terms.html#ptr_has"><span class="id" title="lemma">ptr_has</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="LemmaOverloading.terms.html#freeR"><span class="id" title="lemma">freeR</span></a> <span class="id" title="var">D</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="lemma">cat_cons</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">A</span>: (<a class="idref" href="LemmaOverloading.prefix.html#onth"><span class="id" title="definition">onth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sx</span>)=&gt;[<span class="id" title="var">a</span> /=|] <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> *; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<span class="id" title="var">sh1</span> <span class="id" title="notation">++</span> <span class="id" title="var">unm</span>) <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">sh1</span> <span class="id" title="notation">++</span> <span class="id" title="var">unm</span>) <span class="id" title="var">D</span>=&gt;[|<span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">D</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.heaps.html#freePtUn"><span class="id" title="lemma">freePtUn</span></a> <span class="id" title="var">D</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#freeU"><span class="id" title="lemma">freeU</span></a> <a class="idref" href="LemmaOverloading.heaps.html#defU"><span class="id" title="lemma">defU</span></a> <span class="id" title="lemma">eq_refl</span>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a>=&gt;-&gt; <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LemmaOverloading.heaps.html#free0"><span class="id" title="lemma">free0</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> [<a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">_</span> (<a class="idref" href="LemmaOverloading.terms.html#cancel'"><span class="id" title="definition">cancel'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]/=.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>=&gt;<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">apply</span>: (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cat"><span class="id" title="lemma">interp_cat</span></a> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unCA"><span class="id" title="lemma">unCA</span></a> <a class="idref" href="LemmaOverloading.heaps.html#unA"><span class="id" title="lemma">unA</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>=&gt;//; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.terms.html#hfree_def"><span class="id" title="lemma">hfree_def</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">has_pred1</span> <span class="id" title="lemma">has_count</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>: (<span class="id" title="definition">count</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">H1</span>=&gt;[//|[|<span class="id" title="var">n</span>]] <span class="id" title="var">_</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="var">have</span> <span class="id" title="var">H3</span>: <span class="id" title="definition">count</span> (<span class="id" title="definition">pred1</span> <span class="id" title="var">sv</span>) (<a class="idref" href="LemmaOverloading.terms.html#vars"><span class="id" title="definition">vars</span></a> <span class="id" title="var">sh2</span>) <span class="id" title="notation">&gt;</span> 1 <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="LemmaOverloading.terms.html#countN_varfree"><span class="id" title="lemma">countN_varfree</span></a> <span class="id" title="var">H3</span> <span class="id" title="var">D</span>)=&gt;/= <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LemmaOverloading.terms.html#empty_hfree"><span class="id" title="lemma">empty_hfree</span></a> <span class="id" title="var">sh2</span> <span class="id" title="var">H4</span>) <span class="id" title="var">H2</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> /= <span class="id" title="var">H4</span> <a class="idref" href="LemmaOverloading.heaps.html#un0h"><span class="id" title="lemma">un0h</span></a>.<br/>
<span class="id" title="tactic">move</span>/(<a class="idref" href="LemmaOverloading.terms.html#interp_perm"><span class="id" title="lemma">interp_perm</span></a> <span class="id" title="var">i</span>): (<a class="idref" href="LemmaOverloading.terms.html#count1_hfree"><span class="id" title="lemma">count1_hfree</span></a> <span class="id" title="var">H1</span>)=&gt;<span class="id" title="var">H6</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H6</span> <span class="id" title="lemma">cat_cons</span> 2!<a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H6</span> <a class="idref" href="LemmaOverloading.terms.html#interp_cons"><span class="id" title="lemma">interp_cons</span></a> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<a class="idref" href="LemmaOverloading.heaps.html#unhKr"><span class="id" title="lemma">unhKr</span></a> <span class="id" title="var">D</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Main&nbsp;lemma:&nbsp;the&nbsp;cancel&nbsp;algorithm&nbsp;is&nbsp;correct&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="cancel_sound"><span class="id" title="lemma">cancel_sound</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.heaps.html#def"><span class="id" title="definition">def</span></a> (<a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LemmaOverloading.terms.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LemmaOverloading.terms.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="LemmaOverloading.terms.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="LemmaOverloading.terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="LemmaOverloading.terms.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="LemmaOverloading.terms.html#t2"><span class="id" title="variable">t2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">D</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="LemmaOverloading.terms.html#cancel_sound'"><span class="id" title="lemma">cancel_sound'</span></a>=&gt;//; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span> // <span class="id" title="lemma">cats0</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
